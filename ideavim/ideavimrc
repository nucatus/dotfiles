""" Set leader to space -------------------------
let mapleader=" "

""" Plugins -------------------------------------
set NERDTree
set surround
set commentary

""" Plugins settings ----------------------------

""" Common settings -----------------------------
set relativenumber
set number
set scrolloff=12
set clipboard+=unnamed

""" Idea specific features ----------------------
set ideajoin
set idearefactormode=keep

""" Key maps ------------------------------------
map <leader>lv :source ~/.config/ideavim/ideavimrc<CR>
map <leader>ll :edit ~/.config/ideavim/ideavimrc<CR>

""" File navigation
map <leader>h <Action>(Vcs.ShowTabbedFileHistory)
map <leader><Space> <Action>(GotoFile)
map <leader>c <Action>(GotoClass)
map <leader>r <Action>(RecentFiles)

""" Code Navigation
map gd <Action>(GotoDeclaration)
map gr <Action>(ShowUsages)
map gi <Action>(GotoImplementation)
map gs <Action>(GotoSuperMethod)

""" File navigation
map <leader>um <Action>(FileStructurePopup)
nmap <leader>, <Action>(MethodUp)
nmap <leader>. <Action>(MethodDown)
nmap <leader>; <Action>(GotoNextElementUnderCaretUsage)
nmap <leader>: <Action>(GotoPrevElementUnderCaretUsage)

""" Context navigation
map <leader>o <Action>(Back)
map <leader>e <Action>(Forward)
nmap <leader>a <Action>(GotoPreviousError)
nmap <leader>u <Action>(GotoNextError)
nmap <leader>t <Action>(JumpToLastChange)
nmap <leader>n <Action>(JumpToNextChange)

""" Coding and refactoring
nmap cas <Action>(ShowIntentionActions)
vmap crt <Action>(SurroundWith)
nmap crr <Action>(RenameElement)
nmap crs <Action>(ChangeSignature)
nmap <leader>cf <Action>(ReformatCode)
vmap <leader>cf <Action>(ReformatCode)
nmap coi <Action>(OptimizeImports)
nmap <A-j> <Action>(EditorCloneCaretBelow)

""" IDE navigation
map <leader>' <Action>(ActivateProjectToolWindow)
map <leader>p <Action>(SearchEverywhere)
map <leader>ur <Action>(ActivateRunToolWindow)
map <leader>ud <Action>(ActivateDebugToolWindow)
map <leader>br <Action>(ToggleLineBreakpoint)
map <leader>uz <Action>(ToggleDistractionFreeMode)

map <leader>wn <Action>(EditSourceInNewWindow)
